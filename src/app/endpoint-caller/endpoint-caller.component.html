<ng-container *ngIf="service">
  <div>
    <div>
      <mat-card
        style="padding: 1px; padding-top: 1em; border: none; box-shadow: none"
      >
        <div fxLayoutGap="2em" fxLayout="row">
          <mat-form-field fxFlex="49%" fxFlex.lt-md="100%" appearance="fill">
            <mat-label>Endpoint</mat-label>
            <mat-select
              [(ngModel)]="selectedEndpoint"
              (ngModelChange)="selectEndpoint()"
            >
              <mat-option
                [value]="e.name"
                style="
                  cursor: pointer;
                  font-weight: normal;
                  border-top: 1px solid whitesmoke;
                "
                *ngFor="let e of service.detail.endpoints"
              >
                <span>{{ formatName(e.name) }}</span>
              </mat-option>
            </mat-select>
          </mat-form-field>
          <!-- 
          <mat-form-field
            *ngIf="endpointExamples"
            fxFlex="49%"
            fxFlex.lt-md="100%"
            appearance="fill"
          >
            <mat-label>Example</mat-label>
            <mat-select
              [(ngModel)]="selectedExampleTitle"
              (ngModelChange)="selectExample()"
            >
              <mat-option value="default">Default</mat-option>
              <mat-option
                value="{{ e.title }}"
                style="
                  cursor: pointer;
                  font-weight: normal;
                  border-top: 1px solid whitesmoke;
                "
                *ngFor="let e of endpointExamples"
              >
                <span style="font-weight: bold">{{ e.title }}</span>
                <ng-template #normal
                  ><span>{{ e.title }}</span></ng-template
                >
              </mat-option>
            </mat-select>
          </mat-form-field>
        --></div>
        <br />
        <div fxLayout="row wrap" fxLayoutAlign="space-between">
          <div fxFlex="49%" fxFlex.lt-md="100%">
            Request<br /><br />
            <ngx-monaco-editor
              style="
                height: 25em;
                overflow: hidden;
                border: 1px solid #eee;
                padding: 10px;
              "
              [options]="coptions"
              [(ngModel)]="requestJSON"
            ></ngx-monaco-editor>
            <br />
          </div>
          <div fxFlex="49%" fxFlex.lt-md="100%">
            Response<br /><br />
            <ngx-monaco-editor
              style="
                height: 25em;
                overflow: hidden;
                border: 1px solid #eee;
                padding: 10px;
              "
              [options]="coptions"
              [(ngModel)]="responseJSON"
            ></ngx-monaco-editor>
          </div>
        </div>
        <button
          *ngIf="us.user?.name"
          mat-raised-button
          style="font-weight: bold"
          (click)="callEndpoint()"
          color="primary"
        >
          Call
        </button>
        <button
          *ngIf="!us.user?.name"
          mat-raised-button
          style="font-weight: bold"
          routerLink="/register"
          color="primary"
        >
          Sign up to call endpoint
        </button>
      </mat-card>
    </div>
    <br />
  </div>
</ng-container>
