<app-container>
  <div class="md:grid-cols-3 md:grid py-6 md:gap-4 font-light">
    <div
      class="
        col-span-2
        bg-white
        p-8
        rounded-md
        border border-gray-200 border-solid
      "
    >
      <h2 class="font-black text-black text-lg mb-4 dark:text-white">
        Introduction
      </h2>
      <p>{{ getDescription() }}</p>
      <h2 class="font-black text-black text-lg mb-4 dark:text-white">
        Features
      </h2>

      <ul class="list-none list-inside" *ngFor="let endpoint of endpoints | keyvalue"
	  >
         <li><span class="font-bold">{{ formatTitle(endpoint.key) }}</span> - {{ endpoint.value.request.description }}</li>
       </ul>
     
      <br>
      <h2 class="font-black text-black text-lg mb-4 dark:text-white">
        Examples
      </h2>

      <div *ngFor="let endpoint of endpoints | keyvalue"
	  >
          <span *ngIf="endpoint.value.examples.length == 0">
            No examples available
          </span>

          <span *ngFor="let example of endpoint.value.examples">
            {{ formatTitle(example.title) }}

            <pre class="rounded-md font-mono text-sm">
              <code class="example" language="'curl'" [highlight]="formatJSON(example.request)"></code>
            </pre>
             <br>
            <pre class="rounded-md font-mono text-sm">
              <code class="example" language="'curl'" [highlight]="formatJSON(example.response)"></code>
            </pre>
          </span>
       </div>

      <div class="">
        <h2 class="font-black text-black text-lg my-6 dark:text-white">
          How to use
        </h2>
        <p class="mb-6">1. Firstly install the Micro node package</p>
        <div
          class="
            bg-gray-700
            py-4
            px-6
            rounded-md
            text-xs text-white
            font-mono
            inline-block
            mb-6
          "
        >
          npm install @m3o/m3o-node --save
        </div>
        <p class="mb-1">
          2. To consume any of the Micro APIs requires an API key. This can
          generated in the admin section. Once this is acquired, you just need
          to use this within your chosen API. All APIs follow the same pattern
          which you can see below:
        </p>
        <pre class="rounded-md font-mono text-sm">
          <code class="example" language="'javascript'" [highlight]="repeatableMicroCode"></code>
        </pre>
        <p class="mb-1">
          3. So, for example to consume the
          <span class="font-medium text-black">{{
            getFirstEndpointName()
          }}</span>
          method on the {{ singleApiService.service.summary.name }} service:
        </p>
        <pre class="rounded-md font-mono text-sm">
          <code class="example" language="'javascript'" [highlight]="exampleCode"></code>
        </pre>
      </div>
    </div>
    <div
      class="
        bg-white
        p-8
        rounded-md
        border border-gray-200 border-solid
        mt-6
        md:mt-0
      "
    >
      <div class="border-b border-solid border-gray-100 pb-6">
        <h3 class="font-black text-black text-lg mb-6 dark:text-white">
          Authors
        </h3>
        <img
          class="rounded-full w-12 inline-block mr-4"
          src="https://avatars.githubusercontent.com/u/17530?s=64&v=4"
        />
        <img
          class="rounded-full w-12 inline-block"
          src="https://avatars.githubusercontent.com/u/1785178?s=64&v=4"
        />
      </div>
      <div class="pb-4 mt-6 dark:border-gray-800">
        <h3 class="font-black text-black text-lg my-6 dark:text-white">
          Need help?
        </h3>
        <p>
          Join <span class="text-indigo-600">#support</span> on
          <a
            href="https://slack.m3o.com"
            class="font-bold text-indigo-600 underline hover:no-underline"
            >Slack</a
          >
          or join our
          <a
            href="https://discord.gg/TBR9bRjd6Z"
            class="font-bold text-indigo-600 underline hover:no-underline"
            >Discord</a
          >
          and we'll answer your questions ASAP.
        </p>
        <h3 class="font-black text-black text-lg my-6 dark:text-white">
          Feedback
        </h3>
        <p class="text-gray-500">Looking for something you can&apos;t find??</p>
        <a
          href="https://forms.gle/bumpycyzofNiVLQc8"
          target="_blank"
          rel="noreferrer"
          class="mt-2 inline-block text-indigo-600 font-bold underline"
        >
          Let us know
        </a>
      </div>
    </div>
  </div>
</app-container>
